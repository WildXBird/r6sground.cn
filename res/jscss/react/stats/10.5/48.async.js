(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[48],{zAGe:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__("fbTi"),_interopRequireDefault=__webpack_require__("mZ4U");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("jDyY");var _card=_interopRequireDefault(__webpack_require__("q6Oz"));__webpack_require__("Q1Fi");var _row=_interopRequireDefault(__webpack_require__("7NCv"));__webpack_require__("wIDX");var _popover=_interopRequireDefault(__webpack_require__("kyBY"));__webpack_require__("gooI");var _progress=_interopRequireDefault(__webpack_require__("ao0b"));__webpack_require__("QKdE");var _list=_interopRequireDefault(__webpack_require__("2Vcd"));__webpack_require__("dp+4");var _avatar=_interopRequireDefault(__webpack_require__("nA/W"));__webpack_require__("Hq/V");var _col=_interopRequireDefault(__webpack_require__("fAnr"));__webpack_require__("5hX3");var _icon=_interopRequireDefault(__webpack_require__("wjJH")),_classCallCheck2=_interopRequireDefault(__webpack_require__("43Yg")),_createClass2=_interopRequireDefault(__webpack_require__("/tCh")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("scpF")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("O/V9")),_inherits2=_interopRequireDefault(__webpack_require__("8aBX")),_react=_interopRequireWildcard(__webpack_require__("FQm9")),_reactDom=_interopRequireDefault(__webpack_require__("syOM")),_reactAdsense=_interopRequireDefault(__webpack_require__("zsfv")),_locale=__webpack_require__("TJP2"),requestProfileId;function rankSeasonTransport(e){return e=parseInt(e),1==e?(0,_locale.formatMessage)({id:"\u58a8\u51b0\u884c\u52a8"}):2==e?(0,_locale.formatMessage)({id:"\u6c99\u7ebf\u884c\u52a8"}):3==e?(0,_locale.formatMessage)({id:"\u9ab7\u9885\u96e8\u884c\u52a8"}):4==e?(0,_locale.formatMessage)({id:"\u8d64\u9e26\u884c\u52a8"}):5==e?(0,_locale.formatMessage)({id:"\u4e1d\u7ed2\u58f3\u884c\u52a8"}):6==e?(0,_locale.formatMessage)({id:"\u5065\u5eb7\u884c\u52a8"}):7==e?(0,_locale.formatMessage)({id:"\u8840\u5170\u82b1\u884c\u52a8"}):8==e?(0,_locale.formatMessage)({id:"\u767d\u566a\u58f0\u884c\u52a8"}):9==e?(0,_locale.formatMessage)({id:"\u5947\u7f8e\u62c9\u884c\u52a8"}):10==e?(0,_locale.formatMessage)({id:"\u5907\u6218\u884c\u52a8"}):11==e?(0,_locale.formatMessage)({id:"\u6697\u7a7a\u884c\u52a8"}):12==e?(0,_locale.formatMessage)({id:"\u98ce\u57ce\u884c\u52a8"}):13==e?(0,_locale.formatMessage)({id:"\u71c3\u70e7\u5730\u5e73\u7ebf\u884c\u52a8"}):14==e?(0,_locale.formatMessage)({id:"\u5e7b\u955c\u884c\u52a8"}):15==e?(0,_locale.formatMessage)({id:"\u4f59\u70ec\u91cd\u71c3\u884c\u52a8"}):16==e?(0,_locale.formatMessage)({id:"\u5e7b\u53d8\u6d77\u6f6e"}):17==e?(0,_locale.formatMessage)({id:"\u865a\u7a7a\u8fb9\u7f18"}):(0,_locale.formatMessage)({id:"\u65b0\u8d5b\u5b63"})}var ServiceList=function(_PureComponent){function ServiceList(e){var t;return(0,_classCallCheck2.default)(this,ServiceList),t=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(ServiceList).call(this,e)),t.state={services:[{}],view:"type_a"},t}return(0,_inherits2.default)(ServiceList,_PureComponent),(0,_createClass2.default)(ServiceList,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;if(window.Fthis=this,window.LastPage="Stats/Rank",window.urlFix=function(){var e=-1;try{var t=window.location.pathname.indexOf("/",window.location.pathname.indexOf("/",window.location.pathname.indexOf("/")+1)+1)+1;if(0==t)throw"loc = 0";requestProfileId=window.location.pathname.substring(t,t+36)}catch(e){requestProfileId=0}if("undefined"!=typeof window.resulted&&"undefined"!=typeof window.resulted.profile_id&&(0!=String(requestProfileId).length&&0!=String(requestProfileId)||(requestProfileId=window.resulted.profile_id),e=window.resulted.profile_id),requestProfileId==e){requestProfileId=window.resulted.profile_id;var a="/"+window.LastPage+"/"+requestProfileId;history.replaceState(null,null,a);var r=new RegExp(window.resulted.UsernameOnPlatform,"");document.title=window.resulted.UsernameOnPlatform+(0,_locale.formatMessage)({id:"\u7684\u6392\u4f4d\u6570\u636e"})+" "+document.title.replace(r,"")}else 36!=requestProfileId.length&&(requestProfileId=0)},window.urlFix(),"undefined"!=typeof window.needjs)eval(window.needjs),"undefined"!=typeof window.resulted&&window.resulted.profile_id==requestProfileId?this.setState({services:{Done:!0}}):window.Fthis.props.history.replace("/search/?profileid="+requestProfileId);else{var xhr=new XMLHttpRequest;xhr.open("GET","https://"+selfDomain+"/r6sg-app/res/need.js/",!0),xhr.send(),xhr.onreadystatechange=function(){xhr.readyState==XMLHttpRequest.DONE&&200==xhr.status&&(window.needjs=xhr.responseText,eval(xhr.responseText),"undefined"!=typeof window.resulted&&window.resulted.profile_id==requestProfileId?_this2.setState({services:{Done:!0}}):window.Fthis.props.history.replace("/search/?profileid="+requestProfileId))}}window.onpopstate=function(e){if("undefined"!=typeof window.resulted&&window.resulted.profile_id==requestProfileId){window.Fthis.setState({services:{Done:45672}});var t=new RegExp(window.resulted.UsernameOnPlatform,"");document.title=window.resulted.UsernameOnPlatform+(0,_locale.formatMessage)({id:"\u7684\u6392\u4f4d\u6570\u636e"})+" "+document.title.replace(t,"")}else window.Fthis.props.history.replace("/search/?profileid="+requestProfileId)}}},{key:"render",value:function(){var e=_react.default.createElement(_icon.default,{type:"loading"}),t=window.innerHeight-64;if(t<100&&(t="auto"),"undefined"!=typeof this.state.services.Done||"done"==this.state.services.Done){if("undefined"==typeof window.resulted||"undefined"==typeof window.resulted.profile_id){try{window.Fthis.props.history.replace("/search/?profileid="+requestProfileId)}catch(e){window.Fthis.props.history.replace("/search/?profileid=")}return null}if("undefined"!=typeof window.resulted&&"undefined"!=typeof window.resulted.rank&&"undefined"!=typeof window.resulted.rank.data){var a=[],r=["emea","ncsa","apac"];for(var n in window.resulted.rank.data)if(n>0){var s=parseInt(n),l=window.resulted.rank.data[n],i={},o=0;for(var d in r)l["rank_"+d+"_season"]>0&&(s=parseInt(l["rank_"+d+"_season"])),d=r[d],l["rank_"+d+"_season"]==window.resulted.rank.season?("undefined"==typeof window.resulted["rank_"+d+"_wins"]&&(window.resulted["rank_"+d+"_wins"]=0),"undefined"==typeof window.resulted["rank_"+d+"_losses"]&&(window.resulted["rank_"+d+"_losses"]=0),parseInt(window.resulted["rank_"+d+"_wins"])+parseInt(window.resulted["rank_"+d+"_losses"])!=0&&(i={season:l["rank_"+d+"_season"]||s,reg:d,mmr:window.resulted["rank_"+d+"_skill_mean"]||window.resulted["rank_"+d+"_mmr"]||0,max_mmr:window.resulted["rank_"+d+"_max_mmr"]||0,abandons:window.resulted["rank_"+d+"_abandons"]||0,losses:window.resulted["rank_"+d+"_losses"]||1,wins:window.resulted["rank_"+d+"_wins"]||0,time:time(new Date(window.resulted["rank_"+d+"_update_time"]))||"1970-01-01 00:00:00",kill:window.resulted["rank_"+d+"_kills"]||0,death:window.resulted["rank_"+d+"_deaths"]||0,skillStdev:window.resulted["rank_"+d+"_skill_stdev"]?100*window.resulted["rank_"+d+"_skill_stdev"]:-1,skillStdevChange:window.resulted["rank_"+d+"_skill_stdev_change"]||0,previousRankMmr:window.resulted["rank_"+d+"_previous_rank_mmr"]||0},i.wl=(i.wins/dezero(i.wins+i.losses)*100).toFixed(2),i.pt=i.wins+i.losses,i.title=(0,_locale.formatMessage)({id:"\u6700\u540e\u6bb5\u4f4d"}),i.Dtitle=window.resulted["rank_"+d+"_mmr"],a.push(i),o+=1)):("undefined"==typeof l["rank_"+d+"_wins"]&&(l["rank_"+d+"_wins"]=0),"undefined"==typeof l["rank_"+d+"_losses"]&&(l["rank_"+d+"_losses"]=0),25!=parseInt(l["rank_"+d+"_max_mmr"])&&parseInt(l["rank_"+d+"_wins"])+parseInt(l["rank_"+d+"_losses"])!=0&&(i={season:l["rank_"+d+"_season"]||s,reg:d,mmr:l["rank_"+d+"_mmr"],max_mmr:l["rank_"+d+"_max_mmr"],abandons:l["rank_"+d+"_abandons"],losses:l["rank_"+d+"_losses"],wins:l["rank_"+d+"_wins"],time:time(new Date(l["rank_"+d+"_update_time"]))||"1970-01-01 00:00:00",kill:l["rank_"+d+"_kills"]||0,death:l["rank_"+d+"_deaths"]||0,skillStdev:l["rank_"+d+"_skill_stdev"]?100*l["rank_"+d+"_skill_stdev"]:-1,skillStdevChange:l["rank_"+d+"_skill_stdev_change"]||0,previousRankMmr:l["rank_"+d+"_previous_rank_mmr"]||0},i.wl=(i.wins/dezero(i.wins+i.losses)*100).toFixed(2),i.pt=i.wins+i.losses,i.title=(0,_locale.formatMessage)({id:"\u6700\u9ad8\u6bb5\u4f4d"}),i.Dtitle=l["rank_"+d+"_max_mmr"],a.push(i),o+=1));0==o&&(i={season:l["rank_apac_season"]||s,reg:"apac",mmr:0,max_mmr:0,abandons:0,wl:0,losses:0,pt:0,wins:0,title:(0,_locale.formatMessage)({id:"\u6700\u9ad8\u6bb5\u4f4d"}),Dtitle:0,time:(0,_locale.formatMessage)({id:"\u4ece\u672a\u73a9\u8fc7"}),kill:0,death:0,skillStdev:0,skillStdevChange:0,previousRankMmr:-1},a.push(i))}return a=a.reverse(),_react.default.createElement("div",{id:"main",style:{maxHeight:window.innerHeight-64,overflow:"auto"}},_react.default.createElement("div",{style:{padding:10,overflow:"hidden"},id:"MainRow"},_react.default.createElement(_row.default,null,Array.from(a).map(function(e,t){return console.log(t),_react.default.createElement("span",null,function(){if((6==t||12==t||18==t)&&(!window.userinfo||!window.userinfo.prime))return _react.default.createElement(_col.default,{span:24},_react.default.createElement("div",null,_react.default.createElement(_reactAdsense.default.Google,{client:"ca-pub-4417984338760431",slot:"2284011358"})))}(),_react.default.createElement(_col.default,{span:24,xl:12,xxl:8},_react.default.createElement(_card.default,{title:(0,_locale.formatMessage)({id:"\u7b2c"})+e.season+(0,_locale.formatMessage)({id:"\u8d5b\u5b63"})+" ("+(0,_locale.formatMessage)({id:regFix(e.reg)})+") "+rankSeasonTransport(e.season),bordered:!1,style:{margin:5,height:400}},_react.default.createElement(_list.default,{style:{margin:6,textShadow:"0px 0px 15px #fff",borderRadius:10,background:"url(https://"+resCdn+"/gh/xieqiqiang00/r6sground.cn/res/assets/miniSeasonHead/"+e.season+".PNG)",backgroundSize:"cover"},itemLayout:"horizontal",dataSource:[{title:(0,_locale.formatMessage)({id:FrinendlyMMRPro(mmrtolevel(e.max_mmr,seasonidToRankVer(e.season)),seasonidToRankVer(e.season))})}],renderItem:function(t){return _react.default.createElement(_list.default.Item,null,_react.default.createElement(_list.default.Item.Meta,{style:{marginTop:3},avatar:_react.default.createElement(_avatar.default,{src:IconMMR(mmrtolevel(e.Dtitle,seasonidToRankVer(e.season)),seasonidToRankVer(e.season)),style:{height:70,width:70}}),title:e.title,description:_react.default.createElement("span",{style:{fontSize:30,color:"#000"}},t.title)}))}}),_react.default.createElement("div",null,(0,_locale.formatMessage)({id:"\u6700\u540eMMR\uff1a"}),e.mmr.toFixed(0)," (",(0,_locale.formatMessage)({id:FrinendlyMMRPro(mmrtolevel(e.mmr,seasonidToRankVer(e.season)),seasonidToRankVer(e.season))}),")"),_react.default.createElement("div",null,_react.default.createElement(_progress.default,{strokeColor:{from:"#4EEE94",to:"#4876FF"},percent:e.mmr/5e3*100,status:"active",showInfo:!1})),_react.default.createElement("div",null,(0,_locale.formatMessage)({id:"\u6700\u9ad8MMR\uff1a"}),e.max_mmr.toFixed(0)," (",(0,_locale.formatMessage)({id:FrinendlyMMRPro(mmrtolevel(e.max_mmr,seasonidToRankVer(e.season)),seasonidToRankVer(e.season))}),")"),_react.default.createElement("div",null,_react.default.createElement(_popover.default,{content:_react.default.createElement("div",null,_react.default.createElement("p",null,(0,_locale.formatMessage)({id:"\u8d5b\u5b63\u521d\u59cb\u5206\u6570\uff1a"}),parseInt(e.previousRankMmr)||(0,_locale.formatMessage)({id:"\u672a\u77e5"})),_react.default.createElement("p",null,(0,_locale.formatMessage)({id:"\u8d5b\u5b63\u6700\u9ad8\u5206\u6570\uff1a"}),parseInt(e.max_mmr)||(0,_locale.formatMessage)({id:"\u672a\u77e5"}))),title:(0,_locale.formatMessage)({id:"\u63d0\u793a"})},_react.default.createElement(_progress.default,{strokeColor:{from:"#FFF68F",to:"#FF4500"},percent:e.max_mmr>e.previousRankMmr?e.max_mmr/5e3*100:e.previousRankMmr/5e3*100,successPercent:e.max_mmr>e.previousRankMmr?e.previousRankMmr/5e3*100:e.max_mmr/5e3*100,status:"active",showInfo:!1}))),_react.default.createElement("div",{style:{padding:"3px 0px"}}),_react.default.createElement(_row.default,null,_react.default.createElement(_col.default,{span:12},(0,_locale.formatMessage)({id:"\u53c2\u8d5b\uff1a"}),e.pt,(0,_locale.formatMessage)({id:"\u6b21"})),_react.default.createElement(_col.default,{span:12},(0,_locale.formatMessage)({id:"\u5f03\u8d5b\uff1a"}),e.abandons,(0,_locale.formatMessage)({id:"\u6b21"})),_react.default.createElement(_col.default,{span:8},(0,_locale.formatMessage)({id:"\u80dc\u7387\uff1a"}),e.wl,"%"),_react.default.createElement(_col.default,{span:8},(0,_locale.formatMessage)({id:"\u83b7\u80dc\uff1a"}),e.wins),_react.default.createElement(_col.default,{span:8},(0,_locale.formatMessage)({id:"\u8d1f\u8d25\uff1a"}),e.losses),_react.default.createElement(_col.default,{span:8},(0,_locale.formatMessage)({id:"\u6218\u635f\uff1a"}),((e.kill||0)/(e.death||1)).toFixed(3)),_react.default.createElement(_col.default,{span:8},(0,_locale.formatMessage)({id:"\u51fb\u6740\uff1a"}),e.kill),_react.default.createElement(_col.default,{span:8},(0,_locale.formatMessage)({id:"\u6b7b\u4ea1\uff1a"}),e.death),_react.default.createElement(_col.default,{span:24},(0,_locale.formatMessage)({id:"\u80fd\u529b\u6807\u51c6\u5dee(\u73a9\u5bb6\u6c34\u5e73\u6ce2\u52a8)\uff1a"}),e.skillStdev.toFixed(1)),_react.default.createElement(_col.default,{span:24},(0,_locale.formatMessage)({id:"\u6700\u540e\u53c2\u6218\u65f6\u95f4\uff1a"}),e.time)))))}))))}setTimeout(function(){window.Fthis.setState({services:{Done:(new Date).getTime()}})},300);try{var _=((new Date).getTime()-window.resulted.rankStateTime)/375;_>80&&(_=(_-80)/5+80),_>97&&(_=99)}catch(e){_=0}return"undefined"!=typeof window.resulted.rankState&&"fail"==window.resulted.rankState?_react.default.createElement("div",{id:"main",style:{maxHeight:window.innerHeight-64,overflow:"auto"}},_react.default.createElement("span",{style:{padding:25,margin:"auto",position:"absolute",top:20,left:0,bottom:0,right:0,height:130,textAlign:"center"}},_react.default.createElement(_progress.default,{type:"circle",percent:100,status:"exception",style:{padding:4,borderRadius:65,background:"#fff"}}),_react.default.createElement("div",{style:{height:10}}),_react.default.createElement("h1",null,(0,_locale.formatMessage)({id:"\u670d\u52a1\u5668\u8fd4\u56de\u4e86\u4e00\u4e2a\u9519\u8bef"})))):_react.default.createElement("div",{id:"main",style:{maxHeight:window.innerHeight-64,overflow:"auto"}},_react.default.createElement("span",{style:{padding:25,margin:"auto",position:"absolute",top:20,left:0,bottom:0,right:0,height:130,textAlign:"center",maxWidth:500}},_react.default.createElement(_progress.default,{type:"circle",percent:parseInt(_),status:"active",style:{padding:4,borderRadius:65,background:"#fff"}}),_react.default.createElement("div",{style:{height:10}}),_react.default.createElement("h1",null,(0,_locale.formatMessage)({id:"\u8be5\u7528\u6237\u7684\u6392\u4f4d\u6570\u636e\u4ece\u672a\u88ab\u67e5\u8be2\u8fc7\uff0c\u6216\u6e38\u620f\u6765\u5230\u4e86\u65b0\u7684\u8d5b\u5b63\u3002\u6b64\u65f6\uff0c\u6392\u4f4d\u6570\u636e\u7684\u67e5\u8be2\u901f\u5ea6\u8f83\u6162\uff0c\u53ef\u80fd\u9700\u89811-2\u5206\u949f\uff0c\u8bf7\u7a0d\u540e..."}))))}return _react.default.createElement("div",{id:"main",style:{maxHeight:window.innerHeight-64,overflow:"auto"}},e)}},{key:"componentDidUpdate",value:function(){function e(){}window.onresize=function(){try{e()}catch(e){}var t=(new Date).getTime();window.Fthis.setState({services:{Done:t}})},e()}}]),ServiceList}(_react.PureComponent),_default=ServiceList;exports.default=_default}}]);