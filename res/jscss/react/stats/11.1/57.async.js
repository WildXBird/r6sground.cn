(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[57],{hGpH:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__("fbTi"),_interopRequireDefault=__webpack_require__("mZ4U");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("1hTB");var _table=_interopRequireDefault(__webpack_require__("KFXw"));__webpack_require__("dp+4");var _avatar=_interopRequireDefault(__webpack_require__("nA/W"));__webpack_require__("5hX3");var _icon=_interopRequireDefault(__webpack_require__("wjJH")),_classCallCheck2=_interopRequireDefault(__webpack_require__("43Yg")),_createClass2=_interopRequireDefault(__webpack_require__("/tCh")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("scpF")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("O/V9")),_inherits2=_interopRequireDefault(__webpack_require__("8aBX")),_react=_interopRequireWildcard(__webpack_require__("FQm9")),_locale=__webpack_require__("TJP2"),requestProfileId,tableData,ServiceList=function(_PureComponent){function ServiceList(e){var t;return(0,_classCallCheck2.default)(this,ServiceList),t=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(ServiceList).call(this,e)),t.state={services:[{}],view:"type_a"},t}return(0,_inherits2.default)(ServiceList,_PureComponent),(0,_createClass2.default)(ServiceList,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;if(window.Fthis=this,window.LastPage="Stats/Operator",window.urlFix=function(){var e=-1;try{var t=window.location.pathname.indexOf("/",window.location.pathname.indexOf("/",window.location.pathname.indexOf("/")+1)+1)+1;if(0==t)throw"loc = 0";requestProfileId=window.location.pathname.substring(t,t+36)}catch(e){requestProfileId=0}if("undefined"!=typeof window.resulted&&"undefined"!=typeof window.resulted.profile_id&&(0!=String(requestProfileId).length&&0!=String(requestProfileId)||(requestProfileId=window.resulted.profile_id),e=window.resulted.profile_id),requestProfileId==e){requestProfileId=window.resulted.profile_id;var r="/"+window.LastPage+"/"+requestProfileId;history.replaceState(null,null,r);var o=new RegExp(window.resulted.UsernameOnPlatform,"");document.title=window.resulted.UsernameOnPlatform+(0,_locale.formatMessage)({id:"\u7684\u5e72\u5458\u6570\u636e"})+" "+document.title.replace(o,"")}else 36!=requestProfileId.length&&(requestProfileId=0)},window.urlFix(),"undefined"!=typeof window.needjs)eval(window.needjs),"undefined"!=typeof window.resulted&&window.resulted.profile_id==requestProfileId?this.setState({services:{Done:!0}}):window.Fthis.props.history.replace("/search/?profileid="+requestProfileId);else{var xhr=new XMLHttpRequest;xhr.open("GET","https://"+selfDomain+"/r6sg-app/res/need.js/",!0),xhr.send(),xhr.onreadystatechange=function(){xhr.readyState==XMLHttpRequest.DONE&&200==xhr.status&&(window.needjs=xhr.responseText,eval(xhr.responseText),"undefined"!=typeof window.resulted&&window.resulted.profile_id==requestProfileId?_this2.setState({services:{Done:!0}}):window.Fthis.props.history.replace("/search/?profileid="+requestProfileId))}}window.onpopstate=function(e){if("undefined"!=typeof window.resulted&&window.resulted.profile_id==requestProfileId){window.Fthis.setState({services:{Done:45672}});var t=new RegExp(window.resulted.UsernameOnPlatform,"");document.title=window.resulted.UsernameOnPlatform+(0,_locale.formatMessage)({id:"\u7684\u5e72\u5458\u6570\u636e"})+" "+document.title.replace(t,"")}else window.Fthis.props.history.replace("/search/?profileid="+requestProfileId)}}},{key:"render",value:function(){var e=_react.default.createElement(_icon.default,{type:"loading"});if("undefined"!=typeof this.state.services.Done||"done"==this.state.services.Done){if("undefined"==typeof window.resulted||"undefined"==typeof window.resulted.profile_id){try{window.Fthis.props.history.replace("/search/?profileid="+requestProfileId)}catch(e){window.Fthis.props.history.replace("/search/?profileid=")}return null}var t=[{title:(0,_locale.formatMessage)({id:"\u56fe\u6807"}),dataIndex:"icon",fixed:"left",width:50},{title:(0,_locale.formatMessage)({id:"\u5e72\u5458"}),dataIndex:"name",sorter:function(e,t){return R6opeIdToCtuIndex(e.name)-R6opeIdToCtuIndex(t.name)},width:138},{title:(0,_locale.formatMessage)({id:"\u80dc\u7387"}),dataIndex:"wl",sortDirections:["descend","ascend"],sorter:function(e,t){return e.wl.replace("%","")-t.wl.replace("%","")},width:80},{title:(0,_locale.formatMessage)({id:"Rating"}),dataIndex:"mmr",sortDirections:["descend","ascend"],sorter:function(e,t){return e.mmr-t.mmr},width:85},{title:(0,_locale.formatMessage)({id:"\u56de\u5408\u6570"}),dataIndex:"round",defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,t){return e.round-t.round},width:85},{title:(0,_locale.formatMessage)({id:"\u65f6\u957f"}),dataIndex:"time",defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,t){return e.time.replace((0,_locale.formatMessage)({id:"\u5c0f\u65f6"}),"")-t.time.replace((0,_locale.formatMessage)({id:"\u5c0f\u65f6"}),"")},filters:[{text:(0,_locale.formatMessage)({id:"\u22654\u5c0f\u65f6"}),value:"1"},{text:(0,_locale.formatMessage)({id:"\u5176\u4ed6"}),value:"2"}],onFilter:function(e,t){return t.time.replace((0,_locale.formatMessage)({id:"\u5c0f\u65f6"}),"")>3&&1==e||(!(t.time.replace((0,_locale.formatMessage)({id:"\u5c0f\u65f6"}),"")>3||2!=e)||void 0)},width:100},{title:(0,_locale.formatMessage)({id:"\u6218\u635f"}),dataIndex:"kd",defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,t){return e.kd-t.kd},width:80},{title:(0,_locale.formatMessage)({id:"\u51fb\u6740"}),dataIndex:"kill",defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,t){return e.kill-t.kill},width:80},{title:(0,_locale.formatMessage)({id:"\u6b7b\u4ea1"}),dataIndex:"death",defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,t){return e.death-t.death},width:80},{title:(0,_locale.formatMessage)({id:"\u5747\u6740"}),dataIndex:"kpr",defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,t){return e.kpr-t.kpr},width:100},{title:(0,_locale.formatMessage)({id:"\u5747\u6b7b"}),dataIndex:"dpr",defaultSortOrder:"ascend",sortDirections:["descend","ascend"],sorter:function(e,t){return t.dpr-e.dpr},width:100},{title:(0,_locale.formatMessage)({id:"\u80dc\u5229"}),dataIndex:"won",defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,t){return e.won-t.won},width:80},{title:(0,_locale.formatMessage)({id:"\u5931\u8d25"}),dataIndex:"lost",defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,t){return e.lost-t.lost},width:80},{title:(0,_locale.formatMessage)({id:"\u653b\u5b88"}),dataIndex:"place",defaultSortOrder:"descend",filters:[{text:(0,_locale.formatMessage)({id:"\u8fdb\u653b\u65b9"}),value:"1"},{text:(0,_locale.formatMessage)({id:"\u9632\u5b88\u65b9"}),value:"2"},{text:(0,_locale.formatMessage)({id:"\u5176\u4ed6"}),value:"3"}],onFilter:function(e,t){if(t.place.replace((0,_locale.formatMessage)({id:"\u8fdb\u653b"}),"1").replace((0,_locale.formatMessage)({id:"\u9632\u5b88"}),"2").replace((0,_locale.formatMessage)({id:"\u5176\u4ed6"}),"3")==e)return!0},width:function(){return"zh-CN"==(0,_locale.getLocale)()?80:90}()},{title:"\u5355\u4f4d",dataIndex:"ctu"}];if("undefined"!=typeof resulted.temp.tableData)var r=resulted.temp.tableData;else{r=[];for(var o in window.siegeLib.temp.opeIdToOpeName)if("undefined"!=typeof window.resulted["operatorpvp_timeplayed:"+o+":infinite"]){var a={};if(a.key=o,a.icon=_react.default.createElement(_avatar.default,{src:R6opeIdToOpeIcon(o)}),a.name=R6opeIdToOpeName(o),a.ctu=R6ctuIndexToCtuName(R6opeIdToCtuIndex(o)),a.wl=EasyopeInfoFetch(o,"wl")+"%",a.mmr=parseInt(EasyopeInfoFetch(o,"operatorpvp_ug")/(EasyopeInfoFetch(o,"operatorpvp_roundwon")+EasyopeInfoFetch(o,"operatorpvp_roundlost"))/25),a.round=EasyopeInfoFetch(o,"operatorpvp_roundwon")+EasyopeInfoFetch(o,"operatorpvp_roundlost"),a.round>0){a.time=TimesTOh(EasyopeInfoFetch(o,"operatorpvp_timeplayed"))+(0,_locale.formatMessage)({id:"\u5c0f\u65f6"}),a.kd=EasyopeInfoFetch(o,"kd"),a.kill=EasyopeInfoFetch(o,"operatorpvp_kills"),a.death=EasyopeInfoFetch(o,"operatorpvp_death"),a.kpr=(EasyopeInfoFetch(o,"operatorpvp_kills")/(EasyopeInfoFetch(o,"operatorpvp_roundwon")+EasyopeInfoFetch(o,"operatorpvp_roundlost"))).toFixed(2),a.dpr=(EasyopeInfoFetch(o,"operatorpvp_death")/a.round).toFixed(2),a.won=EasyopeInfoFetch(o,"operatorpvp_roundwon"),a.lost=EasyopeInfoFetch(o,"operatorpvp_roundlost"),a.spc=parseInt(EasyopeInfoFetch(o,"operatorpvp_timeplayed")/EasyopeInfoFetch(o,"operatorpvp_death",!0))+(0,_locale.formatMessage)({id:"\u79d2"}),a.vspc=a.round/EasyopeInfoFetch(o,"operatorpvp_death",!0).toFixed(2),a.skill=EasyopeInfoFetch(o,"operatorpvp_skills");var i=R6opeIdToCategory(o);a.place="ATK"==i?(0,_locale.formatMessage)({id:"\u8fdb\u653b"}):"DEF"==i?(0,_locale.formatMessage)({id:"\u9632\u5b88"}):(0,_locale.formatMessage)({id:"\u5176\u4ed6"}),r.push(a)}}resulted.temp.tableData=r}return _react.default.createElement("div",null,_react.default.createElement(_table.default,{columns:t,dataSource:r,scroll:{x:function(){return"zh-CN"==(0,_locale.getLocale)()?1460:1500}(),y:!0,scrollToFirstRowOnChange:!0},pagination:!1,bordered:!0,size:"small",align:"center"}))}return _react.default.createElement("div",null,e)}},{key:"componentDidUpdate",value:function(){function e(){try{var e=window.innerHeight-37-3-document.getElementsByClassName("ant-layout-header")[0].offsetHeight;document.getElementsByClassName("ant-table-body")[0].style.maxHeight=e+"px",document.getElementsByClassName("ant-table-body-inner")[0].style.maxHeight=e+"px"}catch(e){}}window.onresize=function(){try{e()}catch(e){}var t=(new Date).getTime();window.Fthis.setState({services:{Done:t}})},e()}},{key:"componentWillUnmount",value:function(){}}]),ServiceList}(_react.PureComponent),_default=ServiceList;exports.default=_default}}]);