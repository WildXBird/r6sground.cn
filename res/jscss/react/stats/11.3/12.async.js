(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{QRTk:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__("fbTi"),_interopRequireDefault=__webpack_require__("mZ4U");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("Q1Fi");var _row=_interopRequireDefault(__webpack_require__("7NCv"));__webpack_require__("334S");var _radio=_interopRequireDefault(__webpack_require__("CzC8"));__webpack_require__("5hX3");var _icon=_interopRequireDefault(__webpack_require__("wjJH")),_classCallCheck2=_interopRequireDefault(__webpack_require__("43Yg")),_createClass2=_interopRequireDefault(__webpack_require__("/tCh")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("scpF")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("O/V9")),_inherits2=_interopRequireDefault(__webpack_require__("8aBX"));__webpack_require__("08VQ");var _typography=_interopRequireDefault(__webpack_require__("5+Er")),_react=_interopRequireWildcard(__webpack_require__("FQm9")),_reactDom=_interopRequireDefault(__webpack_require__("syOM")),_reactAdsense=_interopRequireDefault(__webpack_require__("zsfv")),_reactLoadScript=_interopRequireDefault(__webpack_require__("oJ+t")),_g2React=_interopRequireDefault(__webpack_require__("a6n9")),_g=__webpack_require__("1zR+"),_locale=__webpack_require__("TJP2"),Title=_typography.default.Title,Paragraph=_typography.default.Paragraph,Text=_typography.default.Text;function getData(){var e=new XMLHttpRequest;e.open("GET","https://global.r6sground.cn/cache/0/PotatoChecker",!0),e.send(),window.Fthis.setState({services:{Done:(new Date).getTime()}}),e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE)if(200==e.status){try{var t=JSON.parse(e.responseText).reverse();window.potato={},window.potato.Settings={},window.potato.Settings.display=0,window.potato.EAS={ping:[],lost:[]},window.potato.WJA={ping:[],lost:[]},window.potato.WUS={ping:[],lost:[]},window.potato.SEAS={ping:[],lost:[]},window.potato.UPLAY={ping:[],lost:[]};var a=100,o=120,i=250,r=150,n=250,s=2,l=100;for(var p in t){var d=t[p];d[0]=time(new Date(d[0]).valueOf()),d[2][0]>498&&(d[2][0]=parseInt(a*s)),d[2][1]>498&&(d[2][1]=parseInt(o*s)),d[2][2]>498&&(d[2][2]=parseInt(i*s)),d[2][3]>498&&(d[2][3]=parseInt(r*s)),d[2][4]>498&&(d[2][4]=parseInt(n*s)),d[1][0]>0&&(d[2][0]=parseInt(d[2][0]*(l+d[1][0])/100)),d[1][1]>0&&(d[2][1]=parseInt(d[2][1]*(l+d[1][1])/100)),d[1][2]>0&&(d[2][2]=parseInt(d[2][2]*(l+d[1][2])/100)),d[1][3]>0&&(d[2][3]=parseInt(d[2][3]*(l+d[1][3])/100)),d[1][4]>0&&(d[2][4]=parseInt(d[2][4]*(l+d[1][4])/100)),a=d[2][0],o=d[2][1],i=d[2][2],r=d[2][3],n=d[2][4],window.potato.EAS.ping.push([d[0],d[2][0]]),window.potato.WJA.ping.push([d[0],d[2][1]]),window.potato.WUS.ping.push([d[0],d[2][2]]),window.potato.SEAS.ping.push([d[0],d[2][3]]),window.potato.UPLAY.ping.push([d[0],d[2][4]]),window.potato.EAS.lost.push([d[0],d[1][0]]),window.potato.WJA.lost.push([d[0],d[1][1]]),window.potato.WUS.lost.push([d[0],d[1][2]]),window.potato.SEAS.lost.push([d[0],d[1][3]]),window.potato.UPLAY.lost.push([d[0],d[1][4]])}createTablePOT()}catch(e){console.error(e),window.pageOnNotie("PotatoChecker\u52a0\u8f7d\u51fa\u9519","\u5237\u65b0\u9875\u9762\u4e5f\u8bb8\u4f1a\u89e3\u51b3\u95ee\u9898")}window.Fthis.setState({services:{Done:(new Date).getTime()}})}else console.error("https://global.r6sground.cn/cache/0/PotatoChecker",e.status),window.pageOnNotie("PotatoChecker\u52a0\u8f7d\u5931\u8d25","\u5237\u65b0\u9875\u9762\u4e5f\u8bb8\u4f1a\u89e3\u51b3\u95ee\u9898")}}function createTablePOT(){if(console.log("createTablePOTing"),1==window.echartsLoaded&&"undefined"!=typeof window.potato&&"undefined"!=typeof window.potato.Settings&&"undefined"!=typeof window.potato.Settings.display){console.log("createTablePOT");var e=[],t=["EAS","WJA","WUS","SEAS","UPLAY"],a={silent:!0,data:[{yAxis:50},{yAxis:80},{yAxis:100},{yAxis:150},{yAxis:200},{yAxis:300}]};if(0==window.potato.Settings.display||3==window.potato.Settings.display)for(var o in console.log("ping"),t)e.push({name:(0,_locale.formatMessage)({id:t[o]}),type:"line",data:window.potato[t[o]].ping.map(function(e){return e[1]}),markLine:a}),null!=a&&(a=void 0);if(1==window.potato.Settings.display||3==window.potato.Settings.display)for(var i in console.log("lost"),t)e.push({name:(0,_locale.formatMessage)({id:t[i]}),type:"line",data:window.potato[t[i]].lost.map(function(e){return e[1]}),markLine:a}),null!=a&&(a=void 0);console.log(e);var r=new Date((new Date).valueOf()-36e5).toLocaleString().replace(/pm/i,"").replace(/am/i,"").replace("\u4e0b\u5348","").replace("\u4e0a\u5348","").replace("/","-").replace("/","-");console.log(r);var n=window.potato.EAS.ping,s=echarts.init(document.getElementById("c1")),l={title:{text:""},legend:{data:[(0,_locale.formatMessage)({id:"EAS"}),(0,_locale.formatMessage)({id:"WJA"}),(0,_locale.formatMessage)({id:"WUS"}),(0,_locale.formatMessage)({id:"SEAS"}),(0,_locale.formatMessage)({id:"UPLAY"})]},tooltip:{trigger:"axis"},xAxis:{data:n.map(function(e){return e[0]})},yAxis:{splitLine:{show:!1}},dataZoom:[{startValue:"2019-06-02"},{type:"inside"}],visualMap:{top:10,right:10,pieces:[{gt:0,lte:50,color:"#66CD00"},{gt:50,lte:80,color:"#096"},{gt:80,lte:100,color:"#ff9933"},{gt:100,lte:150,color:"#660099"},{gt:150,lte:300,color:"#660099"},{gt:300,color:"#cc0033"}],outOfRange:{color:"#66CD00"}},series:e};s.setOption(l),window.onresize=function(){s.resize()},window.Fthis.setState({services:{Done:(new Date).valueOf()}})}else setTimeout(function(){createTablePOT()},100)}var ServiceList=function(_PureComponent){function ServiceList(e){var t;return(0,_classCallCheck2.default)(this,ServiceList),t=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(ServiceList).call(this,e)),t.state={services:[{}],view:"type_a"},t}return(0,_inherits2.default)(ServiceList,_PureComponent),(0,_createClass2.default)(ServiceList,[{key:"componentDidMount",value:function componentDidMount(){if("undefined"!=typeof window.needjs)eval(window.needjs),"undefined"==typeof window.potato?getData():createTablePOT(),window.Fthis.setState({services:{Done:!0}});else{var xhr=new XMLHttpRequest;xhr.open("GET","https://"+window.selfDomain+"/r6sg-app/res/need.js/",!0),xhr.send(),xhr.onreadystatechange=function(){xhr.readyState==XMLHttpRequest.DONE&&200==xhr.status&&(window.needjs=xhr.responseText,eval(xhr.responseText),"undefined"==typeof window.potato?getData():createTablePOT())}}}},{key:"render",value:function(){window.Fthis=this;var e=_react.default.createElement(_icon.default,{type:"loading"});return"undefined"!=typeof this.state.services.Done||"true"==this.state.services.Done?_react.default.createElement("div",{id:"main",style:{padding:15,background:"#fff",maxHeight:window.innerHeight-64,overflow:"auto",overflowX:"hidden"}},_react.default.createElement("div",{level:2,style:{textAlign:"center",fontWeight:500,fontSize:32}},(0,_locale.formatMessage)({id:"\u571f\u8c46\u68c0\u6d4b\u5668"})),_react.default.createElement("div",{style:{margin:"0 auto",width:129,height:30}},_react.default.createElement(_radio.default.Group,{value:function(){try{return String(window.potato.Settings.display)}catch(e){return"0"}}(),defaultValue:"a",buttonStyle:"solid",onChange:function(e){window.potato.Settings.display=e.target.value,createTablePOT(),window.Fthis.setState({services:{Done:(new Date).valueOf()}})}},_react.default.createElement(_radio.default.Button,{value:"0"},(0,_locale.formatMessage)({id:"\u5ef6\u8fdf"})),_react.default.createElement(_radio.default.Button,{value:"1"},(0,_locale.formatMessage)({id:"\u4e22\u5305"})))),_react.default.createElement("div",{style:{height:5}}),_react.default.createElement(_reactLoadScript.default,{url:"https://"+resCdn+"/gh/xieqiqiang00/r6sground.cn/res/jscss/echarts.min.js",onLoad:function(){window.echartsLoaded=!0}}),_react.default.createElement("div",{id:"c1",style:{widht:"100%",height:500,background:"#fff"}},e),_react.default.createElement(Text,{style:{textAlign:"center",width:"100%"}},(0,_locale.formatMessage)({id:"\u571f\u8c46\u68c0\u6d4b\u5668 \u8bb0\u5f55\u4e86\u8282\u70b9\u4e4b\u95f4\u7684\u5ef6\u8fdf\u4e0e\u4e22\u5305\u7387\uff0c\u53ef\u4ee5\u771f\u5b9e\u7684\u53cd\u5e94\u67d0\u4e2a\u65f6\u6bb5\u4e2d\u6e38\u620f\u7684\u7f51\u7edc\u8d28\u91cf"})),function(){if(!window.userinfo||!window.userinfo.prime)return _react.default.createElement(_row.default,null,_react.default.createElement(_reactAdsense.default.Google,{client:"ca-pub-4417984338760431",slot:"2284011358"}))}()):_react.default.createElement("div",null,_react.default.createElement(_icon.default,{type:"loading"}))}},{key:"componentWillUnmount",value:function(){window.potato=void 0,window.myChart=void 0,window.onresize=void 0,this.state.services=void 0}}]),ServiceList}(_react.PureComponent),_default=ServiceList;exports.default=_default}}]);