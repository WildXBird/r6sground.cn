(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{qkQR:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("g09b");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("Mwp2");var _list=_interopRequireDefault(__webpack_require__("VXEj"));__webpack_require__("Awhp");var _badge=_interopRequireDefault(__webpack_require__("KrTs"));__webpack_require__("Telt");var _avatar=_interopRequireDefault(__webpack_require__("Tckk"));__webpack_require__("14J3");var _row=_interopRequireDefault(__webpack_require__("BMrR")),_defineProperty2=_interopRequireDefault(__webpack_require__("eHn4"));__webpack_require__("Pwec");var _icon=_interopRequireDefault(__webpack_require__("CtXQ")),_classCallCheck2=_interopRequireDefault(__webpack_require__("2Taf")),_createClass2=_interopRequireDefault(__webpack_require__("vZ4D")),_inherits2=_interopRequireDefault(__webpack_require__("MhPg")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("l4Ni")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("ujKo"));__webpack_require__("tU7J");var _typography=_interopRequireDefault(__webpack_require__("wFql")),_react=_interopRequireWildcard(__webpack_require__("q1tI")),_reactDom=_interopRequireDefault(__webpack_require__("i8i4")),_reactAdsense=_interopRequireDefault(__webpack_require__("6ldB")),_reactLoadScript=_interopRequireDefault(__webpack_require__("XDgv")),_g2React=_interopRequireDefault(__webpack_require__("fhZU")),_g=__webpack_require__("P8Ad"),_locale=__webpack_require__("LLXN");function _getRequireWildcardCache(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,a=(0,_getPrototypeOf2.default)(e);if(t){var n=(0,_getPrototypeOf2.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,r)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Title=_typography.default.Title,Paragraph=_typography.default.Paragraph,Text=_typography.default.Text;function getData(){if("undefined"==typeof window.leaderboardData){var e=new XMLHttpRequest;e.open("GET","https://promotion.r6sground.cn/!leaderboard/index.txt",!0),e.send(),e.onreadystatechange=function(){if(4==e.readyState&&e.status>=200&&e.status<300)try{window.leaderboardData=JSON.parse(e.responseText);var t=function(e){window.leaderboardData[e]["level"]="?",window.leaderboardData[e]["KD"]="?",window.leaderboardData[e]["MMR"]=0;var t=new XMLHttpRequest;t.open("GET","https://promotion.r6sground.cn/"+window.leaderboardData[e].profileid+"/min.txt",!0),t.send(),t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<300)try{var r=JSON.parse(t.responseText);window.leaderboardData[e]["level"]=r.level,0==r.death&&(r.death=1),window.leaderboardData[e]["KD"]=(r.kills/r.death).toFixed(2),2500==r.rank_apac_mmr&&(r.rank_apac_mmr=0),2500==r.rank_emea_mmr&&(r.rank_emea_mmr=0),2500==r.rank_ncsa_mmr&&(r.rank_ncsa_mmr=0),window.leaderboardData[e]["MMR"]=Math.max(r.rank_apac_mmr,r.rank_emea_mmr,r.rank_ncsa_mmr),window.Fthis.setState({services:{Done:!0}})}catch(e){PROmotionOnError(e)}}};for(var r in leaderboardData)t(r);window.Fthis.setState({services:{Done:!0}})}catch(e){PROmotionOnError(e)}}}else window.Fthis.setState({services:{Done:!0}})}var ServiceList=function(_PureComponent){(0,_inherits2.default)(ServiceList,_PureComponent);var _super=_createSuper(ServiceList);function ServiceList(e){var t;return(0,_classCallCheck2.default)(this,ServiceList),t=_super.call(this,e),t.state={services:[{}],view:"type_a"},t}return(0,_createClass2.default)(ServiceList,[{key:"componentDidMount",value:function componentDidMount(){if("undefined"!=typeof window.needjs)eval(window.needjs),getData();else{var xhr=new XMLHttpRequest;xhr.open("GET","https://"+window.selfDomain+"/r6sg-app/res/need.js/",!0),xhr.send(),xhr.onreadystatechange=function(){xhr.readyState==XMLHttpRequest.DONE&&200==xhr.status&&(window.needjs=xhr.responseText,eval(xhr.responseText),getData())}}}},{key:"render",value:function(){window.Fthis=this;var e=_react.default.createElement(_icon.default,{type:"loading"});return window.PaperMarginResize=function(e){if(console.log("RC"),document.body.offsetWidth>1e3?document.body.offsetWidth>1200?window.PaperMargin="10px "+(document.body.offsetWidth-1200)/2+"px":window.PaperMargin="10px 50px":window.PaperMargin=20,e){var t=(new Date).getTime();window.Fthis.setState({services:{Done:t}})}},window.onresize=function(){window.PaperMarginResize(!0)},window.PaperMarginResize(),"undefined"!=typeof this.state.services.Done||"true"==this.state.services.Done?_react.default.createElement("div",{id:"main",style:{maxHeight:window.innerHeight-64,overflow:"auto",background:"white"}},_react.default.createElement("div",{style:(0,_defineProperty2.default)({padding:24},"padding",window.PaperMargin)},_react.default.createElement(_typography.default,null,_react.default.createElement(Title,null,(0,_locale.formatMessage)({id:"\u9ad8\u73a9\u6392\u884c\u699c"}))),function(){if(!window.userinfo||!window.userinfo.prime)return _react.default.createElement(_row.default,null,_react.default.createElement(_reactAdsense.default.Google,{client:"ca-pub-4417984338760431",slot:"2284011358"}))}(),_react.default.createElement(_list.default,{className:"demo-loadmore-list",itemLayout:"horizontal",dataSource:window.leaderboardData,renderItem:function(e){return _react.default.createElement(_list.default.Item,{onClick:function(){window.Fthis.props.history.push("/search/?profileid="+e.profileid)},actions:[_react.default.createElement(_avatar.default,{size:64,src:IconMMR(mmrtolevel(e.MMR),seasonidToRankVer())})]},_react.default.createElement(_list.default.Item.Meta,{avatar:_react.default.createElement(_badge.default,{count:e.sort},_react.default.createElement(_avatar.default,{shape:"square",size:64,src:ProfileIdtoAvatarImg(e.useridMain)})),title:e.UsernameOnPlatform,description:(0,_locale.formatMessage)({id:"\u7b49\u7ea7"})+" "+e.level+" "+(0,_locale.formatMessage)({id:"\u6218\u635f"})+" "+e.KD}),_react.default.createElement("div",{style:{height:80}}))}}),_react.default.createElement(_typography.default,null,_react.default.createElement(Paragraph,null,(0,_locale.formatMessage)({id:"\u53ea\u6709\u57282019\u5e747\u670827\u65e5\u4e4b\u540e\u5728\u672c\u7ad9\u4ea7\u751f\u8fc7\u6570\u636e,\u5e76\u4e14\u7b49\u7ea7\u8d85\u8fc7100\u7684\u73a9\u5bb6\u624d\u4f1a\u88ab\u8ba1\u5165\u6392\u884c\u699c\uff0c\u6392\u540d\u4f9d\u636e\u662f\u5c40\u5747\u8d21\u732e\uff0c\u6392\u884c\u699c\u6bcf\u4e2a\u8d5b\u5b63\u4f1a\u91cd\u7f6e\u3002"}))))):_react.default.createElement("div",null,e)}},{key:"componentWillUnmount",value:function(){this.state.services=void 0}}]),ServiceList}(_react.PureComponent),_default=ServiceList;exports.default=_default}}]);