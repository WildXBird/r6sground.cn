(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{q4U1:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__("fbTi"),_interopRequireDefault=__webpack_require__("mZ4U");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("QKdE");var _list=_interopRequireDefault(__webpack_require__("2Vcd"));__webpack_require__("57cG");var _switch=_interopRequireDefault(__webpack_require__("tWoQ"));__webpack_require__("DYP6");var _alert=_interopRequireDefault(__webpack_require__("cobE"));__webpack_require__("VIk5");var _button=_interopRequireDefault(__webpack_require__("X+Ft"));__webpack_require__("enMo");var _input=_interopRequireDefault(__webpack_require__("1HgO"));__webpack_require__("5hX3");var _icon=_interopRequireDefault(__webpack_require__("wjJH"));__webpack_require__("ESh5");var _modal=_interopRequireDefault(__webpack_require__("CtjU")),_classCallCheck2=_interopRequireDefault(__webpack_require__("43Yg")),_createClass2=_interopRequireDefault(__webpack_require__("/tCh")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("scpF")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("O/V9")),_inherits2=_interopRequireDefault(__webpack_require__("8aBX"));__webpack_require__("yPdm");var _steps=_interopRequireDefault(__webpack_require__("Al2M"));__webpack_require__("08VQ");var _typography=_interopRequireDefault(__webpack_require__("5+Er")),_react=_interopRequireWildcard(__webpack_require__("FQm9")),Title=_typography.default.Title,Text=_typography.default.Text,Step=_steps.default.Step,userAccounts,thisInProgress=!1,goFirstPage=!1,thisInErrorPage=!1,thisInError="\u610f\u6599\u4e4b\u5916\u7684\u9519\u8bef",this1PButtonLoading=!1;-1!=window.userinfo.ProfileID.indexOf("-")&&1!=window.userinfo.authentication&&(thisInErrorPage=!0,thisInError="\u4f60\u7684\u8eab\u4efd\u4ee4\u724c\u5df2\u7ecf\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u7ed1\u5b9aUplay"),-1==window.userinfo.ProfileID.indexOf("-")&&(goFirstPage=!0);var \u4fee\u6539\u5bc6\u7801\u7684button\u662f\u5426loading=!1;function updateUplayInfo(){\u4fee\u6539\u5bc6\u7801\u7684button\u662f\u5426loading=!0,window.Fthis.setState({services:{Done:(new Date).valueOf()}});var e=new XMLHttpRequest;e.open("POST","https://promotion.r6sground.cn/user/updateUplayInfo/",!0),e.withCredentials=!0,e.send(),e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE&&200==e.status){\u4fee\u6539\u5bc6\u7801\u7684button\u662f\u5426loading=!1;try{var t=JSON.parse(e.responseText);"done"==t.state?ONgoFirstPage():window.pageOnNotie("\u8bf7\u6c42\u672a\u80fd\u6210\u529f","\u8bf7\u8054\u7cfb\u5ba2\u670d","info")}catch(e){console.debug(e),window.pageOnNotie("\u8bf7\u6c42\u672a\u80fd\u6210\u529f","\u8bf7\u8054\u7cfb\u5ba2\u670d(A2)","info")}window.Fthis.setState({services:{Done:(new Date).valueOf()}})}}}function ONpushInfo(){this1PButtonLoading=!0,window.Fthis.setState({services:{Done:(new Date).getTime()}});var Authorization=Base64.encode(document.getElementById("Vemail").value+":"+document.getElementById("Vpasscode").value),REQUUEST=new XMLHttpRequest;REQUUEST.open("POST","https://w1.r6sg.club/",!0),REQUUEST.send('{"UserID": "1628","TokenID": "10bdcce8f19cf5f5b8229c78095a9e19","Token": "e56c9041441765f608186f78b3e1ff87","APP_ID": "UBIConnect", "Authorization": "'+Authorization+'"}'),REQUUEST.onreadystatechange=function(){if(4==REQUUEST.readyState){if(REQUUEST.status>=200&&REQUUEST.status<300){var returnt;try{returnt=JSON.parse(REQUUEST.responseText)}catch(e){return this1PButtonLoading=!1,alert("\u5bf9\u65b9\u8fd4\u56de\u4e86\u610f\u6599\u4e4b\u5916\u56de\u7b54\uff0c\u8bf7\u518d\u8bd5\u4e00\u6b21"),void window.Fthis.setState({services:{Done:(new Date).getTime()}})}if("undefined"!=typeof returnt.error)return alert(returnt.message),this1PButtonLoading=!1,void window.Fthis.setState({services:{Done:(new Date).getTime()}});this1PButtonLoading=!1,thisInProgress=!1,goFirstPage=!1,thisInErrorPage=!1,delete window.userinfo,eval(window.needjs),-1!=navigator.userAgent.indexOf("Electron")?document.location.href="/App/R6BOX/setup":window.Fthis.setState({services:{Done:(new Date).getTime()}})}else{var content="\u670d\u52a1\u6682\u65f6\u4e0d\u53ef\u7528\uff0c\u7a0d\u7b49\u7247\u523b\u518d\u8bd5\u3002";try{content=JSON.parse(REQUUEST.responseText).error}catch(e){}this1PButtonLoading=!1,alert(content)}window.Fthis.setState({services:{Done:(new Date).getTime()}})}}}function ONgoFirstPage(){goFirstPage=!0,window.Fthis.setState({services:{Done:(new Date).getTime()}})}var switched=new ButtonFUNCTION,ServiceList=function(e){function t(e){var a;return(0,_classCallCheck2.default)(this,t),a=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(t).call(this,e)),a.state={services:[{}],view:"type_a"},a}return(0,_inherits2.default)(t,e),(0,_createClass2.default)(t,[{key:"componentDidMount",value:function(){var e=this;if(window.Fthis=this,"undefined"==typeof userAccounts||null==userAccounts){var t=new XMLHttpRequest;t.open("GET","https://promotion.r6sground.cn/user/accountPeek/",!0),t.withCredentials=!0,t.send(),t.onreadystatechange=function(){t.readyState==XMLHttpRequest.DONE&&200==t.status&&(userAccounts=JSON.parse(t.responseText),e.setState({services:{Done:(new Date).valueOf()}}))}}}},{key:"render",value:function(){if(window.Fthis=this,window.FModal=_modal.default,"undefined"==typeof this.state.services.Done)return _react.default.createElement("div",null,_react.default.createElement(_icon.default,{type:"loading"}));var e=[];return e.push({id:"zh2",title:"\u4ed6\u4eba\u53ef\u4ee5\u67e5\u8be2\u6211\u7684\u6218\u7ee9",description:"\u5173\u95ed\u540e\u4ed6\u4eba\u5c06\u4e0d\u80fd\u518d\u67e5\u8be2\u60a8\u7684\u6570\u636e"}),e.push({id:"jb2",title:"\u81ea\u52a8\u8df3\u8f6c\u5230\u6211\u7684\u6218\u7ee9",description:"\u5f53\u6211\u6253\u5f00\u516d\u53f7\u6218\u573a\u7684\u524d\u53f0\u9996\u9875\u65f6\uff0c\u81ea\u52a8\u91cd\u5b9a\u5411\u5230\u6211\u7684\u4e2a\u4eba\u6218\u7ee9\u9875"}),function(){return goFirstPage?_react.default.createElement("div",{style:{maxWidth:1024}},_react.default.createElement(_steps.default,{current:0},_react.default.createElement(Step,{title:"\u5b89\u5168\u68c0\u67e5",icon:_react.default.createElement(_icon.default,{type:"schedule"})}),_react.default.createElement(Step,{title:"\u9a8c\u8bc1\u8d26\u53f7",icon:_react.default.createElement(_icon.default,{type:"api"})}),_react.default.createElement(Step,{title:"\u8ba4\u8bc1\u901a\u8fc7",icon:_react.default.createElement(_icon.default,{type:"smile-o"})})),_react.default.createElement(Text,{style:{padding:"5px 0"}},"\u8bf7\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\u4ee5\u4fbf\u6211\u4eec\u9a8c\u8bc1\u60a8\u5bf9\u8d26\u53f7\u7684\u6240\u6709\u6743"),_react.default.createElement("br",null),_react.default.createElement(Text,{style:{padding:"5px 0"},mark:!0},"\u4ee5\u4e0b\u6240\u6709\u9879\u76ee\u5747\u4e3a\u5fc5\u586b\u9879\u76ee"),_react.default.createElement("br",null),_react.default.createElement("div",{style:{padding:"10px 0"}},_react.default.createElement(Text,{style:{padding:"5px 0"}},"UPLAY\u767b\u5f55\u90ae\u7bb1"),_react.default.createElement("br",null),_react.default.createElement("div",{style:{padding:"5px 0",minWidth:300}},_react.default.createElement(_input.default,{id:"Vemail",placeholder:"example@example.com",style:{maxWidth:300}}))),_react.default.createElement("div",{style:{padding:"10px 0"}},_react.default.createElement(Text,{style:{padding:"5px 0"}},"UPLAY\u767b\u5f55\u5bc6\u7801"),_react.default.createElement("br",null),_react.default.createElement("div",{style:{padding:"5px 0",minWidth:300}},_react.default.createElement(_input.default.Password,{id:"Vpasscode",placeholder:"\u767b\u5f55\u5bc6\u7801",style:{maxWidth:300}}),_react.default.createElement("br",null),_react.default.createElement(Text,{type:"warning"},"\u9a8c\u8bc1\u8fc7\u7a0b\u4e2d\u4f60\u53ef\u80fd\u4f1a\u6536\u5230\u6765\u81ea\u80b2\u78a7\u7684\u5f02\u5730\u767b\u5f55\u901a\u77e5"),_react.default.createElement("br",null),_react.default.createElement(Text,{type:"secondary"},"\u5173\u4e8e\u8d26\u6237\u5b89\u5168\u65b9\u9762\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u670d\u52a1\u534f\u8bae"))),_react.default.createElement(_button.default,{type:"primary",style:{maxWidth:300},onClick:function(e){return ONpushInfo()},loading:this1PButtonLoading},"\u63d0\u4ea4\u9a8c\u8bc1\u7533\u8bf7")):thisInErrorPage?_react.default.createElement("div",{style:{maxWidth:1024}},_react.default.createElement(_steps.default,{current:1,status:"error"},_react.default.createElement(Step,{title:"\u5b89\u5168\u68c0\u67e5",icon:_react.default.createElement(_icon.default,{type:"schedule"})}),_react.default.createElement(Step,{title:"\u9a8c\u8bc1\u8d26\u53f7",icon:_react.default.createElement(_icon.default,{type:"exclamation-circle"})}),_react.default.createElement(Step,{title:"\u8ba4\u8bc1\u901a\u8fc7",icon:_react.default.createElement(_icon.default,{type:"smile-o"})})),_react.default.createElement("div",{style:{padding:10}},_react.default.createElement(_alert.default,{message:"\u8d44\u6599\u4e0d\u5168",description:thisInError,type:"warning",showIcon:!0})),_react.default.createElement(_button.default,{block:!0,onClick:function(e){return ONgoFirstPage()}},"\u8865\u5168\u4fe1\u606f")):"undefined"==typeof window.userinfo.ProfileID||"number"==typeof window.userinfo.ProfileID||-1!=window.userinfo.ProfileID.indexOf("-")?_react.default.createElement("div",{style:{maxWidth:1024}},_react.default.createElement(_steps.default,{current:2},_react.default.createElement(Step,{title:"\u5b89\u5168\u68c0\u67e5",icon:_react.default.createElement(_icon.default,{type:"schedule"})}),_react.default.createElement(Step,{title:"\u9a8c\u8bc1\u8d26\u53f7",icon:_react.default.createElement(_icon.default,{type:"api"})}),_react.default.createElement(Step,{title:"\u8ba4\u8bc1\u901a\u8fc7",icon:_react.default.createElement(_icon.default,{type:"smile-o"})})),_react.default.createElement("div",{style:{height:10}}),_react.default.createElement(Text,{strong:!0},"\u5f53\u524d\u4f60\u7684\u8d26\u6237\u662f: ",userAccounts.uplay),_react.default.createElement(_list.default,{itemLayout:"horizontal",dataSource:e,renderItem:function(e){return _react.default.createElement(_list.default.Item,{actions:e.actions,extra:_react.default.createElement(_switch.default,{onChange:function(t){return switched.onChanged(e.id)},loading:switched.getLoading(e.id),disabled:switched.getDisabled(e.id),defaultChecked:switched.getState(e.id)})},_react.default.createElement(_list.default.Item.Meta,{title:e.title,description:e.description}))}}),_react.default.createElement("div",{style:{height:10}}),_react.default.createElement(_button.default,{type:"primary",onClick:function(e){return updateUplayInfo()},loading:\u4fee\u6539\u5bc6\u7801\u7684button\u662f\u5426loading},"\u66f4\u65b0\u90ae\u7bb1\u6216\u8005\u5bc6\u7801")):_react.default.createElement("div",{style:{maxWidth:1024}},"error")}()}},{key:"componentWillUnmount",value:function(){userAccounts=null,\u4fee\u6539\u5bc6\u7801\u7684button\u662f\u5426loading=!1}}]),t}(_react.PureComponent),_default=ServiceList;exports.default=_default}}]);