(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[47],{ebDB:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__("fbTi"),_interopRequireDefault=__webpack_require__("mZ4U");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("1hTB");var _table=_interopRequireDefault(__webpack_require__("KFXw"));__webpack_require__("dp+4");var _avatar=_interopRequireDefault(__webpack_require__("nA/W"));__webpack_require__("0NfI");var _tooltip=_interopRequireDefault(__webpack_require__("ZHzj")),_defineProperty2=_interopRequireDefault(__webpack_require__("3CjV"));__webpack_require__("5hX3");var _icon=_interopRequireDefault(__webpack_require__("wjJH")),_classCallCheck2=_interopRequireDefault(__webpack_require__("43Yg")),_createClass2=_interopRequireDefault(__webpack_require__("/tCh")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("scpF")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("O/V9")),_inherits2=_interopRequireDefault(__webpack_require__("8aBX"));__webpack_require__("I4dy");var _datePicker=_interopRequireDefault(__webpack_require__("+qVy")),_react=_interopRequireWildcard(__webpack_require__("FQm9")),_locale=__webpack_require__("TJP2"),MonthPicker=_datePicker.default.MonthPicker,RangePicker=_datePicker.default.RangePicker,WeekPicker=_datePicker.default.WeekPicker,requestProfileId,ServiceList=function(_PureComponent){function ServiceList(e){var t;return(0,_classCallCheck2.default)(this,ServiceList),t=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(ServiceList).call(this,e)),t.state={services:[{}],view:"type_a"},t}return(0,_inherits2.default)(ServiceList,_PureComponent),(0,_createClass2.default)(ServiceList,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;if(window.Fthis=this,window.LastPage="Stats/Weapon",window.urlFix=function(){var e=-1;try{var t=window.location.pathname.indexOf("/",window.location.pathname.indexOf("/",window.location.pathname.indexOf("/")+1)+1)+1;if(0==t)throw"loc = 0";requestProfileId=window.location.pathname.substring(t,t+36)}catch(e){requestProfileId=0}if("undefined"!=typeof window.resulted&&(0!=String(requestProfileId).length&&0!=String(requestProfileId)||(requestProfileId=window.resulted.profile_id),e=window.resulted.profile_id),requestProfileId==e){requestProfileId=window.resulted.profile_id;var r="/"+window.LastPage+"/"+requestProfileId;history.replaceState(null,null,r);var a=new RegExp(window.resulted.UsernameOnPlatform,"");document.title=window.resulted.UsernameOnPlatform+(0,_locale.formatMessage)({id:"\u7684\u6b66\u5668\u6570\u636e"})+" "+document.title.replace(a,"")}else 36!=requestProfileId.length&&(requestProfileId=0)},window.urlFix(),"undefined"!=typeof window.needjs)eval(window.needjs),"undefined"!=typeof window.resulted&&window.resulted.profile_id==requestProfileId?this.setState({services:{Done:!0}}):window.Fthis.props.history.replace("/search/?profileid="+requestProfileId);else{var xhr=new XMLHttpRequest;xhr.open("GET","https://"+selfDomain+"/r6sg-app/res/need.js/",!0),xhr.send(),xhr.onreadystatechange=function(){xhr.readyState==XMLHttpRequest.DONE&&xhr.status>=200&&xhr.status<300&&(window.needjs=xhr.responseText,eval(xhr.responseText),"undefined"!=typeof window.resulted&&window.resulted.profile_id==requestProfileId?_this2.setState({services:{Done:!0}}):window.Fthis.props.history.replace("/search/?profileid="+requestProfileId))}}window.onpopstate=function(e){if("undefined"!=typeof window.resulted&&window.resulted.profile_id==requestProfileId){window.Fthis.setState({services:{Done:45672}});var t=new RegExp(window.resulted.UsernameOnPlatform,"");document.title=window.resulted.UsernameOnPlatform+(0,_locale.formatMessage)({id:"\u7684\u6b66\u5668\u6570\u636e"})+" "+document.title.replace(t,"")}else window.Fthis.props.history.replace("/search/?profileid="+requestProfileId)}}},{key:"render",value:function(){var e=_react.default.createElement(_icon.default,{type:"loading"});if(window.RequireWEAPONTABLE=!0,"undefined"!=typeof this.state.services.Done||"done"==this.state.services.Done){var t,r=[{title:(0,_locale.formatMessage)({id:"\u6b66\u5668"}),dataIndex:"name",sorter:function(e,t){return e.id-t.id},width:100,fixed:"left",filters:[{text:(0,_locale.formatMessage)({id:"300\u573a\u4ee5\u4e0a"}),value:"300"},{text:(0,_locale.formatMessage)({id:"1000\u573a\u4ee5\u4e0a"}),value:"1000"},{text:(0,_locale.formatMessage)({id:"2500\u573a\u4ee5\u4e0a"}),value:"2500"}],filterMultiple:!1,onFilter:function(e,t){return!(t.select<e)}},(t={title:(0,_locale.formatMessage)({id:"\u4e0a\u573a"}),dataIndex:"select",defaultSortOrder:"descend",sortDirections:["descend","ascend"],sorter:function(e,t){return e.select-t.select},width:70},(0,_defineProperty2.default)(t,"title",(0,_locale.formatMessage)({id:"\u51fb\u6740"})),(0,_defineProperty2.default)(t,"dataIndex","kill"),(0,_defineProperty2.default)(t,"sortDirections",["descend","ascend"]),(0,_defineProperty2.default)(t,"sorter",function(e,t){return e.kill-t.kill}),(0,_defineProperty2.default)(t,"width",70),t),{title:(0,_locale.formatMessage)({id:"\u6b7b\u4ea1"}),dataIndex:"death",sortDirections:["descend","ascend"],sorter:function(e,t){return e.death-t.death},width:70},{title:(0,_locale.formatMessage)({id:"K/D"}),dataIndex:"kd",sortDirections:["descend","ascend"],sorter:function(e,t){return e.kd-t.kd},width:70},{title:(0,_locale.formatMessage)({id:"KPR"}),dataIndex:"kpr",sortDirections:["descend","ascend"],sorter:function(e,t){return e.kpr-t.kpr},width:70},{title:(0,_locale.formatMessage)({id:"SPR"}),dataIndex:"spr",sortDirections:["descend","ascend"],sorter:function(e,t){return e.spr-t.spr},width:70},{title:(0,_locale.formatMessage)({id:"\u7206\u5934"}),dataIndex:"hs",sortDirections:["descend","ascend"],sorter:function(e,t){return e.hs-t.hs},width:function(){return"zh-CN"==(0,_locale.getLocale)()?70:90}()},{title:(0,_locale.formatMessage)({id:"\u7206\u5934\u7387"}),dataIndex:"vhs",sortDirections:["descend","ascend"],sorter:function(e,t){return e.vhs.replace("%","")-t.vhs.replace("%","")},width:function(){return"zh-CN"==(0,_locale.getLocale)()?70:120}()},{title:(0,_locale.formatMessage)({id:"\u51fb\u4e2d"}),dataIndex:"hit",sortDirections:["descend","ascend"],sorter:function(e,t){return e.hit-t.hit},width:70},{title:(0,_locale.formatMessage)({id:"\u5747\u8017"}),dataIndex:"phit",sortDirections:["descend","ascend"],sorter:function(e,t){return t.phit-e.phit},width:70},{title:(0,_locale.formatMessage)({id:"Dpr"}),dataIndex:"dpr",sortDirections:["descend","ascend"],sorter:function(e,t){return e.dpr-t.dpr},width:70},{title:(0,_locale.formatMessage)({id:"\u4e3b/\u526f"}),dataIndex:"main",sortDirections:["descend","ascend"],sorter:function(e,t){return e.main.replace((0,_locale.formatMessage)({id:"\u4e3b\u6b66\u5668"}),"1").replace((0,_locale.formatMessage)({id:"\u526f\u6b66\u5668"}),"2")-t.main.replace((0,_locale.formatMessage)({id:"\u4e3b\u6b66\u5668"}),"1").replace((0,_locale.formatMessage)({id:"\u526f\u6b66\u5668"}),"2")},width:function(){return"zh-CN"==(0,_locale.getLocale)()?70:100}()},{title:(0,_locale.formatMessage)({id:"\u7c7b\u578b"}),dataIndex:"type",filters:[{text:(0,_locale.formatMessage)({id:"\u51b2\u950b\u67aa"}),value:(0,_locale.formatMessage)({id:"\u51b2\u950b\u67aa"})},{text:(0,_locale.formatMessage)({id:"\u7a81\u51fb\u6b65\u67aa"}),value:(0,_locale.formatMessage)({id:"\u7a81\u51fb\u6b65\u67aa"})},{text:(0,_locale.formatMessage)({id:"\u8f7b\u673a\u67aa"}),value:(0,_locale.formatMessage)({id:"\u8f7b\u673a\u67aa"})},{text:(0,_locale.formatMessage)({id:"\u72d9\u51fb\u67aa"}),value:(0,_locale.formatMessage)({id:"\u72d9\u51fb\u67aa"})},{text:(0,_locale.formatMessage)({id:"\u534a\u81ea\u52a8\u624b\u67aa"}),value:(0,_locale.formatMessage)({id:"\u534a\u81ea\u52a8\u624b\u67aa"})},{text:(0,_locale.formatMessage)({id:"\u5168\u81ea\u52a8\u624b\u67aa"}),value:(0,_locale.formatMessage)({id:"\u5168\u81ea\u52a8\u624b\u67aa"})},{text:(0,_locale.formatMessage)({id:"\u9730\u5f39\u67aa"}),value:(0,_locale.formatMessage)({id:"\u9730\u5f39\u67aa"})}],filterMultiple:!0,onFilter:function(e,t){if(t.type==e)return!0},width:function(){return"zh-CN"==(0,_locale.getLocale)()?90:140}()},{title:(0,_locale.formatMessage)({id:"Dps"}),dataIndex:"dps",sortDirections:["descend","ascend"],sorter:function(e,t){return e.dps-t.dps},width:70},{title:(0,_locale.formatMessage)({id:"\u4f24\u5bb3"}),dataIndex:"d1",sortDirections:["descend","ascend"],sorter:function(e,t){return e.d0-t.d0},width:function(){return"zh-CN"==(0,_locale.getLocale)()?70:90}()},{title:(0,_locale.formatMessage)({id:"\u5c04\u901f"}),dataIndex:"speed",sortDirections:["descend","ascend"],sorter:function(e,t){return e.speed-t.speed},width:function(){return"zh-CN"==(0,_locale.getLocale)()?70:90}()},{title:(0,_locale.formatMessage)({id:"\u5f39\u836f"}),dataIndex:"mag",sortDirections:["descend","ascend"],sorter:function(e,t){return e.mag-t.mag},width:function(){return"zh-CN"==(0,_locale.getLocale)()?80:90}()},{title:(0,_locale.formatMessage)({id:"\u673a\u52a8\u6027"}),dataIndex:"move",sortDirections:["descend","ascend"],sorter:function(e,t){return e.move-t.move},width:function(){return"zh-CN"==(0,_locale.getLocale)()?70:90}()},{title:(0,_locale.formatMessage)({id:"\u64cd\u4f5c\u8005"}),dataIndex:"operator"}],a=[];if("undefined"==typeof this.state.services.filter){for(var i in window.WeapList){var n={};for(var o in n.id=i,n.name=window.WeapList[i],n.select=FetchOpeInfo(i,"uweapon_select",window.resulted,!0),n.kill=FetchOpeInfo(i,"uweapon_kill",window.resulted,!0),n.death=FetchOpeInfo(i,"uweapon_death",window.resulted,!0),n.kd=(n.kill/dezero(n.death)).toFixed(2),n.kpr=(n.kill/dezero(n.select)).toFixed(2),n.spr=((n.select-n.death)/dezero(n.select)).toFixed(2),n.hs=FetchOpeInfo(i,"uweapon_head",window.resulted,!0),n.vhs=(n.hs/dezero(n.kill)*100).toFixed(2)+"%",n.hit=FetchOpeInfo(i,"uweapon_phit",window.resulted,!0),n.vhit=(1-n.kill/dezero(n.hit)).toFixed(2),n.phit=(n.hit/dezero(n.kill)).toFixed(2),n){var d=n[o];"undefined"!=typeof d?("number"!=typeof d&&(d=d.replace("/","").replace("%","")),(d<0||"NaN"==d||""==d)&&(n[o]=0)):n[o]=0}if(void 0!=typeof window.readCSV){n.main=(0,_locale.formatMessage)({id:String(window.readCSV(n.name,"\u4f4d\u7f6e","weapon")).replace("1","\u4e3b\u6b66\u5668").replace("2","\u526f\u6b66\u5668")}),n.type=(0,_locale.formatMessage)({id:String(window.readCSV(n.name,"\u7c7b\u578b","weapon"))}),n.d0=String(window.readCSV(n.name,"\u4f24\u5bb3","weapon"));var s="";"undefined"!=typeof window.readCSV(n.name,"\u4f24\u5bb31","weapon")&&""!=window.readCSV(n.name,"\u4f24\u5bb31","weapon")&&(s=s+"\u666e\u901a\u67aa\u53e3\uff1a"+window.readCSV(n.name,"\u4f24\u5bb31","weapon")+"<br>"),"undefined"!=typeof window.readCSV(n.name,"\u4f24\u5bb33","weapon")&&""!=window.readCSV(n.name,"\u4f24\u5bb33","weapon")&&(s=s+"\u6d88\u97f3\u5668\uff1a"+window.readCSV(n.name,"\u4f24\u5bb33","weapon")+"<br>"),"undefined"!=typeof window.readCSV(n.name,"\u4f24\u5bb35","weapon")&&""!=window.readCSV(n.name,"\u4f24\u5bb35","weapon")&&(s=s+"\u5ef6\u957f\u67aa\u7ba1\uff1a"+window.readCSV(n.name,"\u4f24\u5bb35","weapon")+"<br>"),n.d1=_react.default.createElement(_tooltip.default,{title:_react.default.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),autoAdjustOverflow:!0},n.d0),n.speed=String(window.readCSV(n.name,"\u5c04\u901f","weapon")),""==n.speed&&(n.speed=0),n.dps=parseInt(parseInt(n.d0)*parseInt(n.speed)/60),"NaN"==String(n.dps)&&(n.dps=0),n.mag=String(window.readCSV(n.name,"\u5f39\u836f","weapon")),n.operator=String(window.readCSV(n.name,"\u5e72\u5458","weapon"));var l=String(window.readCSV(n.name,"\u5e72\u5458","weapon")).split("/");n.operator=_react.default.createElement("span",null,Array.from(l).map(function(e,t){return _react.default.createElement("span",null,_react.default.createElement(_avatar.default,{src:openametoicon(e),id:e}),_react.default.createElement("span",null))})),n.dpr=parseInt(n.hit/n.select*n.d0),"NaN"==String(n.dpr)&&(n.dpr=0),n.move=String(window.readCSV(n.name,"\u673a\u52a8","weapon"))}a.push(n)}window.competitonefwiegvwrouvhro=a}return _react.default.createElement("div",null,_react.default.createElement(_table.default,{columns:r,dataSource:window.competitonefwiegvwrouvhro,scroll:{x:function(){return"zh-CN"==(0,_locale.getLocale)()?1620:1700}(),y:5e3},pagination:!1,size:"small",align:"center"}))}return _react.default.createElement("span",null,e)}},{key:"componentDidUpdate",value:function(){function e(){try{var e=window.innerHeight-37-3-document.getElementsByClassName("ant-layout-header")[0].offsetHeight;document.getElementsByClassName("ant-table-body")[0].style.maxHeight=e+"px",document.getElementsByClassName("ant-table-body-inner")[0].style.maxHeight=e+"px"}catch(e){}}window.onresize=function(){try{e()}catch(e){}var t=(new Date).getTime();window.Fthis.setState({services:{Done:t}})},e()}}]),ServiceList}(_react.PureComponent),_default=ServiceList;exports.default=_default}}]);