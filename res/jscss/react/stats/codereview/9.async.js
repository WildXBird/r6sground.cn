(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"0evu":function(e,t,n){e.exports={main:"antd-pro\\pages\\-account\\-settings\\-info-main",leftmenu:"antd-pro\\pages\\-account\\-settings\\-info-leftmenu",right:"antd-pro\\pages\\-account\\-settings\\-info-right",title:"antd-pro\\pages\\-account\\-settings\\-info-title"}},"N01/":function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("u+rM"),_interopRequireWildcard=__webpack_require__("CKcX");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("Lksa");var _button=_interopRequireDefault(__webpack_require__("3Axj"));__webpack_require__("XaRz");var _row=_interopRequireDefault(__webpack_require__("QuCd"));__webpack_require__("9Off");var _col=_interopRequireDefault(__webpack_require__("BczQ"));__webpack_require__("Kqqz");var _spin=_interopRequireDefault(__webpack_require__("X4FQ"));__webpack_require__("pck6");var _icon=_interopRequireDefault(__webpack_require__("sU1J")),_classCallCheck2=_interopRequireDefault(__webpack_require__("Pjwa")),_createClass2=_interopRequireDefault(__webpack_require__("2cji")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("sp3j")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("vZkh")),_inherits2=_interopRequireDefault(__webpack_require__("+KCP"));__webpack_require__("fil6");var _menu=_interopRequireDefault(__webpack_require__("N2MX"));__webpack_require__("fJBB");var _typography=_interopRequireDefault(__webpack_require__("rTB7")),_react=_interopRequireWildcard(__webpack_require__("uqIC")),_dva=__webpack_require__("LneV"),_router=_interopRequireDefault(__webpack_require__("mNgK")),_locale=__webpack_require__("Kf7D"),_GridContent=_interopRequireDefault(__webpack_require__("v99g")),_Info=_interopRequireDefault(__webpack_require__("0evu")),_dec,_class,_temp,Title=_typography.default.Title,Text=_typography.default.Text,Item=_menu.default.Item;function getQueryVariable(e){for(var t=window.location.search.substring(1),n=t.split("&"),r=0;r<n.length;r++){var a=n[r].split("=");if(a[0]==e)return a[1]}return!1}window.ButtonFUNCTION=function(){this.onChanged=function(e){var t=new XMLHttpRequest;t.open("GET","https://r6sground.cn/user/switchb/?id="+e,!0),t.withCredentials=!0,t.send(),window.ONButtonSwitched.getLoading(e,1),t.onreadystatechange=function(){if(4==t.readyState)if(t.status>=200&&t.status<300){var n;try{n=JSON.parse(window.userinfo.settings),console.log(n)}catch(e){return void console.log(e)}"on"==t.responseText?(n[e]=1,window.ONButtonSwitched.getLoading(e,0)):"off"==t.responseText?(n[e]=0,window.ONButtonSwitched.getLoading(e,0)):window.ONButtonSwitched.getLoading(e,2),console.log("settings"),console.log(n),window.userinfo.settings=JSON.stringify(n),window.Fthis.setState({services:{Done:(new Date).getTime()}})}else window.ONButtonSwitched.getLoading(e,2)}},this.getLoading=function(e,t){if("undefined"==typeof window.sittingWaittingList&&(window.sittingWaittingList={}),"undefined"==typeof t)return 1==window.sittingWaittingList[e];window.sittingWaittingList[e]=t},this.getDisabled=function(e){return 2==window.sittingWaittingList[e]},this.getState=function(e){var t;try{return t=JSON.parse(window.userinfo.settings),1==t[e]}catch(e){return!1}}},window.ONButtonSwitched=new ButtonFUNCTION;var Info=(_dec=(0,_dva.connect)(function(e){var t=e.user;return{currentUser:t.currentUser}}),_dec((_temp=function(_Component){function Info(e){var t;(0,_classCallCheck2.default)(this,Info),t=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Info).call(this,e)),t.getmenu=function(){var e=t.state.menuMap;return Object.keys(e).map(function(t){return _react.default.createElement(Item,{key:t},e[t])})},t.getRightTitle=function(){var e=t.state,n=e.selectKey,r=e.menuMap;return r[n]},t.selectKey=function(e){var n=e.key;_router.default.push("/account/settings/".concat(n)),t.setState({selectKey:n})},t.resize=function(){t.main&&requestAnimationFrame(function(){try{var e="inline",n=t.main.offsetWidth;t.main.offsetWidth<641&&n>400&&(e="horizontal"),window.innerWidth<768&&n>400&&(e="horizontal"),t.setState({mode:e})}catch(e){}})},t.state={services:[{}],view:"type_a"},t=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Info).call(this,e)),t.getmenu=function(){var e=t.state.menuMap;return Object.keys(e).map(function(t){return _react.default.createElement(Item,{key:t},e[t])})},t.getRightTitle=function(){var e=t.state,n=e.selectKey,r=e.menuMap;return r[n]},t.selectKey=function(e){var n=e.key;_router.default.push("/account/settings/".concat(n)),t.setState({selectKey:n})},t.resize=function(){t.main&&requestAnimationFrame(function(){try{var e="inline",n=t.main.offsetWidth;t.main.offsetWidth<641&&n>400&&(e="horizontal"),window.innerWidth<768&&n>400&&(e="horizontal"),t.setState({mode:e})}catch(e){}})};var n=e.match,r=e.location,a={base:"\u8d44\u6599\u5361\u4fe1\u606f",uplay:"UPLAY\u7ed1\u5b9a",QQconnect:"QQ\u7ed1\u5b9a",alipay:"\u652f\u4ed8\u5b9d\u7ed1\u5b9a",bill:"\u5f80\u6765",Develop:"\u5f00\u53d1\u8005\u9009\u9879",logout:"\u9000\u51fa\u767b\u5f55"},i=r.pathname.replace("".concat(n.path,"/"),"");return t.state={mode:"inline",menuMap:a,selectKey:a[i]?i:"base"},t}return(0,_inherits2.default)(Info,_Component),(0,_createClass2.default)(Info,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;if(window.addEventListener("resize",this.resize),this.resize(),"undefined"!=typeof window.needjs)eval(window.needjs),this.setState({services:{Done:(new Date).getTime()}});else{var xhr=new XMLHttpRequest;xhr.open("GET","https://r6sground.cn/r6sg-app/res/need.js/",!0),xhr.send(),xhr.onreadystatechange=function(){xhr.readyState==XMLHttpRequest.DONE&&200==xhr.status&&(window.needjs=xhr.responseText,eval(xhr.responseText),_this2.setState({services:{Done:(new Date).getTime()}}))}}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var e=this;window.Fthis=this;_react.default.createElement(_icon.default,{type:"loading"});var t="https://r6sground.cn/r6-db-info/github/?url=https://github.com/xieqiqiang00/r6sground.cn/blob/master/logo-large.png",n=_react.default.createElement(_icon.default,{type:"loading",style:{fontSize:24},spin:!0});if("undefined"==typeof this.state.services||"undefined"==typeof this.state.services.Done)return _react.default.createElement("div",null,_react.default.createElement("div",{style:{padding:25}},_react.default.createElement(_spin.default,{indicator:n})));var r=this.props,a=r.children,i=r.currentUser;if(!i.userid)return"";var o=this.state,u=o.mode,s=o.selectKey,c="https://r6sground.cn";return 0!=getQueryVariable("goback")?c+=getQueryVariable("goback"):c+="/account","undefined"==typeof window.userinfo||"undefined"==typeof window.userinfo.user_ID||""==window.userinfo.user_ID||"0"==window.userinfo.user_ID?_react.default.createElement("div",null,_react.default.createElement(_row.default,{style:{margin:20}},_react.default.createElement(_col.default,{span:24,md:24,lg:24},_react.default.createElement("div",{id:"logo",style:{backgroundImage:"url("+t+")",height:150,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain"}}))),_react.default.createElement(_row.default,{style:{margin:20}},_react.default.createElement(_col.default,{span:24,md:24,lg:24},_react.default.createElement("div",{style:{textAlign:"center"}},_react.default.createElement("div",null,_react.default.createElement(Title,{level:2},"\u767b\u5f55\u5230\u516d\u53f7\u6218\u573a"),_react.default.createElement("br",null),_react.default.createElement(_button.default,{type:"primary",href:"https://r6sground.cn/promotion/tencent/Connect2.1/plug/oauth/index.php?redirect="+c},_react.default.createElement(_icon.default,{type:"qq"}),"\u4f7f\u7528QQ\u4e92\u8054\u767b\u5f55")))))):_react.default.createElement(_GridContent.default,null,_react.default.createElement("div",{className:_Info.default.main,ref:function(t){e.main=t}},_react.default.createElement("div",{className:_Info.default.leftmenu},_react.default.createElement(_menu.default,{mode:u,selectedKeys:[s],onClick:this.selectKey},this.getmenu())),_react.default.createElement("div",{className:_Info.default.right},_react.default.createElement("div",{className:_Info.default.title},this.getRightTitle()),a)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.match,r=e.location,a=r.pathname.replace("".concat(n.path,"/"),"");return a=t.menuMap[a]?a:"base",a!==t.selectKey?{selectKey:a}:null}}]),Info}(_react.Component),_class=_temp))||_class),_default=Info;exports.default=_default}}]);